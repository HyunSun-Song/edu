현대자동차는 세계 시장을 목표로 한 신규 브랜드 “지네시스” 출시를 위해 시스템 영업 전산 고도화를 진행하려고 한다. 기존 영업 전산에서 사용하고 있던 시스템을 이용할 예정이며, 해당 영업 전산에서는 기존 브랜드 자동차 들에 대한 차종, 엔진 형태, TRIM 등 선택하여  고객의 니즈에 맞춰진 최종 구매가를 산정 할 수 있도록 구축되어 있다.
[업무 요건]
하기 기술된 요건의 수정은 불가하며, 추가 전제  및 가정이 필요한 경우 응시자가 추가한다.
기존 영업 전산 기능에 영향이 없어야 한다.
기존 차종은 경형, 준준형, 중형, 대형이 있으며,  신규 브랜드에서는 준대형 급을 추가할 예정이다.
기존 차종별 엔진 형태(CC 연류종류, 1000cc 휘발유 > 1.0 가솔린)는 아래와 같다. 신규 브랜드에서는 중형 이상 라인에서 가솔린 cc 별로 터보 엔진을 추가할 예정이다. ( EX. 경형 : 1.0 가솔린, 1.0 디젤, 1.0 가솔린 터보 )
경형 : 1.0 가솔린, 1.0 디젤
준준형 : 1.6 가솔린, 1.6 디젤
중형 : 2.0 가솔린, 2.0 디젤
대형 : 3.8 가솔린
기존 차종 별 TRIM 은 아래와 같다. 차종에 따라 TRIM별로  기본 가격이 지정되어 있으며, 신규 브랜드에서는 엔진 형태에 따라 선택 가능한 트림이 조절되도록 할 예정이다.
경형 :  스마트, 프리미엄, 익스클루시브, 캘리그라피
준준형 : 스마트, 프리미엄, 익스클루시브
중형 : 스마트, 프리미엄, 익스클루시브, 캘리그라피
대형 : 익스클루시브, 캘리그라피
신규 브랜드에서는 옵션 기능을 추가하여 TRIM간 가격 경계를 모호하게 만들 예정이다.
차종, TRIM별로 기본 옵션이 있으며, TRIM이 상향될 수록 기본 옵션이 많다. 
하위 TRIM에서는 선택할 수 있는 옵션을 제한하여, 상위 TRIM에서만 넣을 수 있는 옵션이 존재한다.
차종, TRIM, 옵션 별로 가격이 다르게 책정되어 있다.
넣을 수 있는 옵션의 갯수 제한은 없다.
옵션 예시 ) 휠, HUD, 스타일, 컴포트, 선루프, 스마트 크루즈 컨트롤, 스마트 센스, 사운드 패키지, 멀티미티어 등이 있다.

[업무 시나리오]
사용자가 영업 전산에 접속한다.
차종을 선택한다.
엔진유형을 선택한다.
TRIM을 선택한다.
옵션을 추가한다.
최종가격을 출력한다.

[기존 ERD]
엔터티
고객 : 고객ID (PK), 고객명
차종 : 차종ID (PM), 차종이름
엔진종류 : 엔진종류ID (PK), 차종ID(FK), 엔진명
계산서 : 고객ID, 엔진종류ID, 차종ID, TRIM ID, 최종계산가
TRIM : TRIM ID (PK), 차종ID (FK), TRIM명, 기본가격

엔터티 관계
고객은 여러 차종을 가질 수 있다
고객은 여러 계산서를 가질 수 있다
차종은 여러 엔진종류를 가질수 있다
차종은 여러 TRIM을 가질 수 있다
엔진과 계산서는 1:0 또는 1:1 관계다
TRIM과 계산서는 1:0 또는 1:1 관계다
차종과 계산서는 1:0 또는 1:1 관계다

[문제]
“지네시스” 신규 브랜드 출시를 위해 기존 ERD를 업무 요건에 부합하도록 수정하시오

신규 브랜드 "지네시스" 출시와 관련된 요구사항에 따라 기존 ERD를 수정하고 확장할 필요가 있습니다. 기존 시스템은 차종, 엔진, TRIM을 선택하여 고객의 니즈에 맞춘 최종 구매가를 산정하는 기능을 가지고 있었으며, 이를 바탕으로 새로운 브랜드를 추가할 수 있도록 ERD를 수정하겠습니다.

### 수정된 ERD 구성 요소

1. **고객 (Customer)**
   - 기존과 동일합니다.
2. **차종 (Car_Model)**
   - 기존과 동일합니다.
   - 새로운 차종 "준대형" 추가.
3. **엔진종류 (Engine_Type)**
   - 기존 엔진 유형 외에도 "터보" 옵션을 추가하여 중형 이상 차종에 적용합니다.
4. **TRIM**
   - 기존 TRIM과 동일하지만, 엔진 유형에 따라 선택 가능한 TRIM이 조절되도록 엔진종류와 TRIM 간의 관계를 추가합니다.
5. **옵션 (Option)**
   - 신규 엔터티로 추가하여 각 TRIM에 대한 옵션을 정의합니다.
   - 옵션에는 가격이 포함되며, 상위 TRIM에서만 선택 가능한 옵션이 존재합니다.
6. **TRIM별 옵션 (Trim_Option)**
   - TRIM과 옵션 간의 관계를 정의하여, TRIM별로 선택 가능한 옵션을 관리합니다.
7. **계산서 (Invoice)**
   - 계산서 엔터티에 선택된 옵션과 총 계산가를 추가합니다.

### 수정된 ERD

```
plaintext코드 복사Customer
--------------------
- customer_id (PK)
- customer_name

Car_Model
--------------------
- car_model_id (PK)
- car_model_name

Engine_Type
--------------------
- engine_type_id (PK)
- car_model_id (FK)
- engine_name
- cc
- fuel_type

Trim
--------------------
- trim_id (PK)
- car_model_id (FK)
- engine_type_id (FK)  // 새로운 FK 추가
- trim_name
- base_price

Option
--------------------
- option_id (PK)
- option_name
- option_price

Trim_Option
--------------------
- trim_option_id (PK)
- trim_id (FK)
- option_id (FK)

Invoice
--------------------
- invoice_id (PK)
- customer_id (FK)
- engine_type_id (FK)
- car_model_id (FK)
- trim_id (FK)
- total_price

Invoice_Option
--------------------
- invoice_option_id (PK)
- invoice_id (FK)
- option_id (FK)
```

### 관계 설명

1. **Customer - Car_Model**: 기존과 동일하게 1

   

   관계입니다. 한 고객이 여러 차종을 가질 수 있습니다.

   

2. **Car_Model - Engine_Type**: 기존과 동일하게 1

   

   관계입니다. 한 차종에 여러 엔진 유형이 있습니다. 중형 이상의 차종에 "터보" 엔진 유형을 추가합니다.

   

3. **Car_Model - Trim**: 1

   

   관계이며, 새로운 "준대형" 차종과 관련된 TRIM을 추가합니다. 또한, TRIM은 엔진 유형에 따라 선택 가능하도록 하였습니다.

   

4. **Trim - Option**: N

   

   관계이며, "Trim_Option" 테이블을 통해 관리됩니다. 상위 TRIM에서만 선택 가능한 옵션이 존재합니다.

   

5. **Invoice - Trim**: 1:1 관계로서, 한 계산서에는 하나의 TRIM이 포함됩니다.

6. **Invoice - Engine_Type**: 1:1 관계로서, 한 계산서에는 하나의 엔진 유형이 포함됩니다.

7. **Invoice - Option**: N

   

   관계로서, 여러 옵션을 선택할 수 있으며, 이를 통해 최종 가격이 산정됩니다.

   

### 추가 설명

- **옵션 추가**: "Trim_Option" 엔터티를 통해 TRIM별로 선택 가능한 옵션을 관리합니다.
- **엔진 유형과 TRIM 연동**: TRIM 선택 시 엔진 유형과의 연관성을 고려하여 선택지를 제한합니다.
- **신규 브랜드**: 신규 브랜드 지네시스는 "준대형" 차종을 포함하며, 중형 이상의 차종에서 "터보" 엔진 옵션을 추가합니다.

이를 통해, 새로운 브랜드의 출시와 추가되는 기능들에 맞춰 기존 시스템을 확장할 수 있습니다. 이 설계는 기존 시스템의 기능을 유지하면서도 신규 브랜드의 요구 사항을 충족합니다.