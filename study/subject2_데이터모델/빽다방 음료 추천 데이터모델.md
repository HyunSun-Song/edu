[업무 시나리오1]
빽다방에는 50개 이상의 다양한 메뉴를 판매한다.
음료별로 각각 커피/음료/주스/스무디/차/블랙펄과 같은 타입이 존재한다. 
고객은 음료를 선택할 때 원하는 타입을 고르고 원하는 음료를 주문한다.
전화번호를 입력하면 포인트와 함께 해당 고객이 주문한 정보가 저장된다.
고객이 주문한 정보인 음료/타입/주문갯수가 빽다방의 통계시스템에 저장된다.
통계시스템에 저장된 데이터는 다른 고객들에게 빽마카세라는 이름으로 메뉴를 추천하게 된다

[기존ERD]
- 엔터티
음료 : 음료번호(PK), 이름, 타입번호(FK)
음료타입 : 타입번호(PK), 타입이름
고객 : 고객아이디(PK), 전화번호, 포인트
지점 : 지점아이디(PK), 지점이름
주문 : 주문아이디(PK), 고객아이디(FK), 음료번호(FK), 주문량, 주문일자
지점별 추천음료 : 지점별 추천음료ID(PK), 지점아이디(FK), 음료번호(FK), 추천점수
타입별 추천음료 : 타입별 추천음료ID(PK), 지점아이디(FK), 음료번호(FK), 추천점수
추천음료 : 추천음료ID(PK), 음료번호(FK), 추천점수

[문제 1]
업무시나리오에서 다음과 같은 ER 다이어 그램으로 주문 정보가 저장된다고 가정 할 때 타입별 추천 음료/ 메뉴별 추천 음료/지점별 추천음료를 지정할 경우에 대하여  DB 모델링(ERD 및 테이블 정의)을 신규 또는 수정 설계 하세요.  
( 단, 시나리오에 없는 내용에 대해서는 전제 조건 및 가정을 설정하고 기술하시면 됩니다.) 

업무 시나리오에 맞춰 빽다방의 추천 시스템을 추가하고 관련 데이터 저장을 위한 ERD 및 테이블 정의를 설계하겠습니다. 기존 ERD를 수정하고 새로운 엔터티와 관계를 추가하여 추천 시스템을 효과적으로 구현할 수 있도록 합니다.

### 전제 조건 및 가정

1. **추천 시스템**: 추천 음료는 각 지점별, 타입별, 전체 메뉴에 대해 별도로 관리되며, 추천 점수는 해당 음료의 인기도나 판매량에 따라 결정됩니다.
2. **추천 점수**: 추천 점수는 정수 값으로 설정되며, 높은 점수를 가진 음료일수록 더 많이 추천됩니다.
3. **통계 정보**: 고객의 주문 정보는 통계 시스템에 저장되며, 이 데이터는 추천 시스템에 사용됩니다.

### 수정된 ERD

#### 1. 새로운 엔터티

1. 추천 시스템 설정
   - **속성**: 설정ID(PK), 지점아이디(FK, 옵션), 타입번호(FK, 옵션), 추천 기준 (지점별, 타입별, 전체), 추천 점수

#### 2. 수정된 엔터티

- **음료**
  - **속성**: 음료번호(PK), 이름, 타입번호(FK)
- **음료타입**
  - **속성**: 타입번호(PK), 타입이름
- **고객**
  - **속성**: 고객아이디(PK), 전화번호, 포인트
- **지점**
  - **속성**: 지점아이디(PK), 지점이름
- **주문**
  - **속성**: 주문아이디(PK), 고객아이디(FK), 음료번호(FK), 주문량, 주문일자
- **지점별 추천음료**
  - **속성**: 지점별 추천음료ID(PK), 지점아이디(FK), 음료번호(FK), 추천점수
- **타입별 추천음료**
  - **속성**: 타입별 추천음료ID(PK), 타입번호(FK), 음료번호(FK), 추천점수
- **추천음료**
  - **속성**: 추천음료ID(PK), 음료번호(FK), 추천점수

#### 3. 수정된 관계

1. **음료와 음료타입**

   - **관계**: N:1
   - **설명**: 여러 음료가 하나의 음료타입에 속함.

2. **고객과 주문**

   - 관계

     : 1

     

   - **설명**: 하나의 고객이 여러 개의 주문을 할 수 있음.

3. **음료와 주문**

   - 관계

     : 1

     

   - **설명**: 하나의 음료가 여러 번 주문될 수 있음.

4. **지점과 지점별 추천음료**

   - 관계

     : 1

     

   - **설명**: 하나의 지점에서 여러 개의 음료를 추천할 수 있음.

5. **음료와 지점별 추천음료**

   - 관계

     : 1

     

   - **설명**: 하나의 음료가 여러 지점에서 추천될 수 있음.

6. **음료타입과 타입별 추천음료**

   - 관계

     : 1

     

   - **설명**: 하나의 음료타입에서 여러 음료가 추천될 수 있음.

7. **음료와 타입별 추천음료**

   - 관계

     : 1

     

   - **설명**: 하나의 음료가 여러 타입에서 추천될 수 있음.

8. **음료와 추천음료**

   - 관계

     : 1

     

   - **설명**: 하나의 음료가 전체 추천 목록에 포함될 수 있음.

9. **추천 시스템 설정과 지점**

   - **관계**: N:1
   - **설명**: 여러 설정이 하나의 지점에 적용될 수 있음 (옵션).

10. **추천 시스템 설정과 음료타입**

    - **관계**: N:1
    - **설명**: 여러 설정이 하나의 음료타입에 적용될 수 있음 (옵션).

#### 4. 수정된 ERD 다이어그램

```
plaintext코드 복사음료
+-------------+
| 음료번호     | PK
| 이름         |
| 타입번호     | FK
+-------------+

    | N:1
    |
    V

음료타입
+-------------+
| 타입번호     | PK
| 타입이름     |
+-------------+

    | 1:N
    |
    V

타입별 추천음료
+------------------+
| 타입별 추천음료ID| PK
| 타입번호         | FK
| 음료번호         | FK
| 추천점수         |
+------------------+

    | N:1
    |
    V

추천 시스템 설정
+------------------+
| 설정ID           | PK
| 지점아이디       | FK (옵션)
| 타입번호         | FK (옵션)
| 추천 기준       |
| 추천 점수       |
+------------------+

    | N:1 (옵션)
    |
    V

지점
+-------------+
| 지점아이디   | PK
| 지점이름     |
+-------------+

    | 1:N
    |
    V

지점별 추천음료
+------------------+
| 지점별 추천음료ID| PK
| 지점아이디       | FK
| 음료번호         | FK
| 추천점수         |
+------------------+

    | 1:N
    |
    V

추천음료
+------------------+
| 추천음료ID       | PK
| 음료번호         | FK
| 추천점수         |
+------------------+

    | 1:N
    |
    V

주문
+-------------+
| 주문아이디   | PK
| 고객아이디   | FK
| 음료번호     | FK
| 주문량       |
| 주문일자     |
+-------------+

    | 1:N
    |
    V

고객
+-------------+
| 고객아이디   | PK
| 전화번호     |
| 포인트       |
+-------------+

    | N:1
    |
    V

음료재고
+-------------+
| 게임ID       | PK
| 사용자ID     | PK
| 재화ID       | PK
| amount       |
+-------------+
```

### 테이블 정의

1. **음료 (Drink)**
   - 음료번호 (PK)
   - 이름
   - 타입번호 (FK)
2. **음료타입 (DrinkType)**
   - 타입번호 (PK)
   - 타입이름
3. **고객 (Customer)**
   - 고객아이디 (PK)
   - 전화번호
   - 포인트
4. **지점 (Branch)**
   - 지점아이디 (PK)
   - 지점이름
5. **주문 (Order)**
   - 주문아이디 (PK)
   - 고객아이디 (FK)
   - 음료번호 (FK)
   - 주문량
   - 주문일자
6. **지점별 추천음료 (BranchRecommendation)**
   - 지점별 추천음료ID (PK)
   - 지점아이디 (FK)
   - 음료번호 (FK)
   - 추천점수
7. **타입별 추천음료 (TypeRecommendation)**
   - 타입별 추천음료ID (PK)
   - 타입번호 (FK)
   - 음료번호 (FK)
   - 추천점수
8. **추천음료 (Recommendation)**
   - 추천음료ID (PK)
   - 음료번호 (FK)
   - 추천점수
9. **추천 시스템 설정 (RecommendationSettings)**
   - 설정ID (PK)
   - 지점아이디 (FK, 옵션)
   - 타입번호 (FK, 옵션)
   - 추천 기준 (지점별/타입별/전체)
   - 추천 점수

이 ERD와 테이블 정의는 빽다방의 음료 추천 시스템을 지원하며, 고객의 주문 정보를 기반으로 추천 음료를 관리할 수 있는 구조를 제공합니다.