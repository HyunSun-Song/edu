정자동에서 아파트별 세대 실거주 인구조사를 진행하기 위한 시스템 고도화를 진행한다. 주소지 정보와 세대, 아파트  정보는 기존 시스템에서 확보하고 있으며, 개인이 접속하여 실거주지를 입력하여 실거주 데이터를 축적한다. 실거주자 정보 및 통계정보가 필요하다.
[업무 요건]
하기 기술된 요건의 수정은 불가하며, 추가 전제  및 가정이 필요한 경우 응시자가 추가한다.
기존 기능에 영향이 없어야 한다.
기존 주소지 정보는 시/도, 시/군/구, 동/읍/면, 상세주소의 형태로 존재한다.
기존 세대 정보는 세대당 세대주, 세대원 목록을 관리한다.
기존 아파트 정보는 동 단위의 아파트 목록으로 관리한다.
세대목록에 없는 구성원도 실거주자로 있을 수 있다.
기존 세대 구성원과 실거주 세대 구성원 정보를 확인할 수 있다.
통계는 세대정보 대비 구성원의 비율을 출력해야 한다.
아파트별 실거주/총 세대원
비거주/총 세대원
세대외 거주자/총 세대원 

[업무 시나리오]
개인이 시스템에 접속하여, 시/도 > 시/군/구 > 동/읍/면 > 상세주소  의 순서로 개별 입력한다.
업무 담당자는 기존 세대 구성원과 실거주 세대 구성원 정보를비교 분석하여 확인한다.
업무 담당자는 통계 정보를 조회한다.

[기존 ERD]
엔터티
시/도 : 시/도 ID(PK), 시/도 이름
시/군/구 : 시/군/구 ID(PK), 시/도 ID(FK), 시/군/구 이름
동/읍/면 : 동/읍/면 ID(PK), 시/군/구 ID(FK), 동/읍/면 이름
아파트 : 아파트ID(PK), 동/읍/면 ID(FK), TRIM명, 기본가격
세대 : 세대ID(PK), 시/도 ID(FK), 시/군/구 ID(FK), 동/읍/면 ID(FK), 상세주소
세대원 : 세대원ID(PK), 세대ID(FK), 세대원 식별번호, 세대원 이름

관계
시/도 엔터티는 세대 엔터티와 1:1 관계
시/도 엔터티는 시/군/구 엔터티와 1:N 관계
시/군/구 엔터티는 세대 엔터티와 1:1 관계
시/군/구 엔터티는 동/읍/면 엔터티와 1:N 관계
동/읍/면 엔터티는 세대 엔터티와 1:1관계
동/읍/면 엔터티는 아파트 엔터티와 1:0 또는 1:1 또는 1:N 관계
세대 엔터티는 세대원 엔터티와 1:0 또는 1:1 또는 1:N 관계

[문제]
실거주 세대원 조사 및 통계자료 조회를 위해 기존 ERD를 업무 요건에 부합하도록 수정하시오

업무 요건에 맞춰 기존 ERD를 수정하기 위해 몇 가지 추가적인 엔터티와 관계를 설계해야 합니다. 주요 요구 사항은 실거주 세대원 정보를 관리하고, 이를 바탕으로 통계 정보를 제공하는 것입니다. 아래는 이를 위한 ERD 수정 제안입니다.

### 수정된 ERD

#### 1. 추가 엔터티

1. **실거주자**
   - **속성**: 실거주자ID(PK), 세대ID(FK, 옵션), 아파트ID(FK, 옵션), 실거주자 이름, 실거주 상태 (비거주, 세대 외 거주, 실거주 등)
2. **통계**
   - **속성**: 통계ID(PK), 아파트ID(FK), 비거주자 비율, 세대 외 거주자 비율, 실거주자 비율

#### 2. 수정된 엔터티

- **세대**
  - 세대ID(PK), 시/도 ID(FK), 시/군/구 ID(FK), 동/읍/면 ID(FK), 상세주소
- **세대원**
  - 세대원ID(PK), 세대ID(FK), 세대원 식별번호, 세대원 이름
- **아파트**
  - 아파트ID(PK), 동/읍/면 ID(FK), TRIM명, 기본가격

#### 3. 관계 추가 및 수정

1. **세대와 실거주자**

   - 관계

     : 1

     

   - **설명**: 세대는 여러 실거주자를 가질 수 있음.

2. **아파트와 실거주자**

   - 관계

     : 1

     

   - **설명**: 아파트는 여러 실거주자를 가질 수 있음.

3. **통계와 아파트**

   - **관계**: 1:1
   - **설명**: 각 아파트에 대해 하나의 통계가 기록됨.

### 수정된 ERD 설명

1. **실거주자 엔터티**는 기존의 세대원 정보와 아파트 정보를 바탕으로 실거주 상태를 기록합니다. 이를 통해 세대 외 거주자나 비거주자를 포함한 다양한 상태를 관리할 수 있습니다.
2. **통계 엔터티**는 각 아파트별로 실거주, 비거주, 세대 외 거주자 비율을 저장합니다. 이를 통해 요청된 통계 정보를 쉽게 조회할 수 있습니다.
3. **관계의 수정**: 세대와 실거주자, 아파트와 실거주자 간의 관계를 추가함으로써 실거주자 정보와 세대 정보, 아파트 정보를 효과적으로 연동할 수 있습니다.

### ERD 다이어그램

```
plaintext코드 복사시/도
+-----------+
| 시/도 ID   | PK
| 시/도 이름 |
+-----------+

    |
    | 1:N
    |
    V

시/군/구
+-----------+
| 시/군/구 ID| PK
| 시/도 ID   | FK
| 시/군/구 이름 |
+-----------+

    |
    | 1:N
    |
    V

동/읍/면
+-----------+
| 동/읍/면 ID| PK
| 시/군/구 ID| FK
| 동/읍/면 이름 |
+-----------+

    |
    | 1:N
    |
    V

아파트
+-----------+
| 아파트ID   | PK
| 동/읍/면 ID| FK
| TRIM명     |
| 기본가격   |
+-----------+
    | 1:N
    |
    V

실거주자
+-----------+
| 실거주자ID | PK
| 세대ID     | FK (옵션)
| 아파트ID   | FK (옵션)
| 실거주자 이름|
| 실거주 상태 |
+-----------+

    |
    | N:1
    |
    V

세대
+-----------+
| 세대ID     | PK
| 시/도 ID   | FK
| 시/군/구 ID| FK
| 동/읍/면 ID| FK
| 상세주소   |
+-----------+

    |
    | 1:N
    |
    V

세대원
+-----------+
| 세대원ID   | PK
| 세대ID     | FK
| 세대원 식별번호 |
| 세대원 이름|
+-----------+

    |
    | 1:N
    |
    V

통계
+-----------+
| 통계ID     | PK
| 아파트ID   | FK
| 비거주자 비율 |
| 세대 외 거주자 비율 |
| 실거주자 비율 |
+-----------+
```

위 ERD는 요구된 기능을 충족하도록 설계되었으며, 실거주자 정보 관리 및 통계 조회를 지원합니다. 추가로 요구되는 분석 및 보고서 작성 시 유용하게 활용될 수 있습니다.