[업무 시나리오1]
번개장터에서 물건을 중고로 거래 할 수 있다. 
판매자는 물건을 카테고리별로 등록 할 수 있다. 
구매자는 판매자에게 물건을 구매 할 때 번개장터 시스템에 돈을 먼저 지불한다.
판매자의 물건이 구매자에게 정상적으로 도착하면 번개장터 시스템에서 판매자에게 돈을 정산한다.
정산이 완료되면 판매중인 물건은 판매완료 상태가 되고 판매자의 판매 리스트에서 판매완료로 업데이트 된다

[엔터티]
판매자 :판매자ID(PK), 이름, 전화번호
판매물건:상품ID(PK), 판매자ID(FK), 카테고리ID(FK), 제목, 설명, 가격, 상태
거래내역:거래번호(PK), 상품ID(FK), 구매자ID(FK), 구매량, 판매상태
판매자:판매자ID(PK), 이름, 전화번호
카테고리 :카테고리ID(PK), 카테고리이름
수수료율:수수료ID(PK), 수수료율
수수료지급내역:수수료거래ID(PK), 거래번호(FK), 수수료ID(FK), 수수료금액, 수수료상태

[문제 1]
 최근 번개장터 시스템 에서는 3.5%의 수수료를 받고 판매자에게 정산하는 시스템을 도입하였습니다. 업무시나리오를 기반으로 판매수수료를 받고 처리되는 부분에 대하여 DB 모델링(ERD 및 테이블 정의)을 신규 또는 수정 설계 하세요.  
( 단, 시나리오에 없는 내용에 대해서는 응시자가 알아서 전제 조건 및 가정을 설정하고 기술하시면 됩니다.) 

번개장터 시스템의 수수료 처리를 위한 DB 모델링을 설계하기 위해, 수수료 계산 및 정산 프로세스를 ERD와 테이블 정의로 명확히 하겠습니다. 최근에 도입된 3.5%의 수수료를 반영하여 판매자에게 정산하는 시스템을 구축하는 것이 목표입니다.

### 전제 조건 및 가정

1. **수수료율**: 3.5%는 수수료율 테이블에서 관리됩니다.
2. **수수료 계산**: 거래금액의 3.5%를 수수료로 부과하고, 이 금액은 `수수료지급내역` 테이블에 기록됩니다.
3. **판매완료**: 거래가 완료되면 판매물건의 상태가 `판매완료`로 변경됩니다.
4. **정산 프로세스**: 구매자가 돈을 지불한 후, 물건이 구매자에게 도착하면 판매자에게 정산이 이루어집니다. 이때 수수료는 자동으로 공제됩니다.

### 수정된 ERD

#### 1. 새로운 엔터티

- 수수료율 (CommissionRate)
  - **속성**: 수수료ID (PK), 수수료율

#### 2. 수정된 엔터티 및 관계

- **판매물건 (ItemForSale)**
  - **속성**: 상품ID (PK), 판매자ID (FK), 카테고리ID (FK), 제목, 설명, 가격, 상태
  - **설명**: 판매물건의 상태를 '판매중' 또는 '판매완료'로 관리합니다.
- **거래내역 (TransactionHistory)**
  - **속성**: 거래번호 (PK), 상품ID (FK), 구매자ID (FK), 구매량, 판매상태
  - **설명**: 판매상태를 '결제완료', '배송완료', '판매완료' 등으로 관리합니다.
- **수수료지급내역 (CommissionPayment)**
  - **속성**: 수수료거래ID (PK), 거래번호 (FK), 수수료ID (FK), 수수료금액, 수수료상태
  - **설명**: 거래에 대한 수수료를 관리하고 지급 상태를 기록합니다.

#### 3. 수정된 관계

1. **판매자와 판매물건**

   - 관계

     : 1

     

   - **설명**: 하나의 판매자가 여러 개의 물건을 판매할 수 있습니다.

2. **판매물건과 거래내역**

   - 관계

     : 1

     

   - **설명**: 하나의 판매물건이 여러 거래를 가질 수 있습니다.

3. **거래내역와 수수료지급내역**

   - 관계

     : 1

     

   - **설명**: 하나의 거래에 대해 여러 개의 수수료가 기록될 수 있습니다.

4. **수수료율과 수수료지급내역**

   - 관계

     : 1

     

   - **설명**: 하나의 수수료율이 여러 개의 수수료지급내역에 적용될 수 있습니다.

### 수정된 ERD 다이어그램

```
plaintext코드 복사판매자
+----------------------+
| 판매자ID             | PK
| 이름                 |
| 전화번호             |
+----------------------+

    | 1:N
    |
    V

판매물건
+----------------------+
| 상품ID               | PK
| 판매자ID             | FK
| 카테고리ID           | FK
| 제목                 |
| 설명                 |
| 가격                 |
| 상태                 |
+----------------------+

    | 1:N
    |
    V

거래내역
+----------------------+
| 거래번호             | PK
| 상품ID               | FK
| 구매자ID             | FK
| 구매량               |
| 판매상태             |
+----------------------+

    | 1:N
    |
    V

수수료지급내역
+----------------------+
| 수수료거래ID         | PK
| 거래번호             | FK
| 수수료ID             | FK
| 수수료금액           |
| 수수료상태           |
+----------------------+

    | N:1
    |
    V

수수료율
+----------------------+
| 수수료ID             | PK
| 수수료율             |
+----------------------+
```

### 테이블 정의

1. **판매자 (Seller)**
   - **판매자ID** (PK)
   - **이름**
   - **전화번호**
2. **판매물건 (ItemForSale)**
   - **상품ID** (PK)
   - **판매자ID** (FK)
   - **카테고리ID** (FK)
   - **제목**
   - **설명**
   - **가격**
   - **상태** (판매중/판매완료)
3. **거래내역 (TransactionHistory)**
   - **거래번호** (PK)
   - **상품ID** (FK)
   - **구매자ID** (FK)
   - **구매량**
   - **판매상태** (결제완료/배송완료/판매완료 등)
4. **수수료지급내역 (CommissionPayment)**
   - **수수료거래ID** (PK)
   - **거래번호** (FK)
   - **수수료ID** (FK)
   - **수수료금액** (거래금액의 3.5%)
   - **수수료상태** (지급완료/미지급 등)
5. **수수료율 (CommissionRate)**
   - **수수료ID** (PK)
   - **수수료율** (예: 3.5%)

이 ERD와 테이블 정의는 수수료 계산 및 지급 과정을 포함하여, 판매자에게 정산을 처리하는 시스템을 명확히 설계할 수 있도록 지원합니다.